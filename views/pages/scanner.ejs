<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <title>Scan Document</title>


    <style type="text/css">
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap');

        :root {
            --green: #1baf56;
            --white: #ffffff;
            --blue: #283b5c;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            font-size: 18px;
            font-weight: 400;
            line-height: 1.2;
            padding: 0;
            margin: 0;
        }

        .wrapper {
            max-width: 1230px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .steps .step {
            display: none;
            padding: 60px 0;
        }

        .steps .step.step1 {
            display: block;
        }

        .steps {
            text-align: center;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            position: relative;
            z-index: 2;
            flex-direction: column;
        }

        .scannerScreen {
            position: relative;
            padding: 25px;
            max-width: 350px;
            width: 100%;
            aspect-ratio: 1;
        }

        .scannerScreen span.scannerFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .scannerScreen span.scannerFrame svg {
            width: 100%;
            height: 100%;
            display: block;
        }

        .scannerScreen span.scannerFrame svg path {
            fill: var(--blue);
        }

        .scannerScreen video {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        .scannerBtn {
            margin-top: 30px;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            display: block;
            margin: 0;
        }

        .button,
        button {
            background: var(--green);
            color: #fff;
            padding: 15px 20px;
            border: 1px solid transparent;
            border-radius: 7px;
            font-size: 16px;
            line-height: 1;
            transition: all ease-in 0.2s;
            text-align: center;
            cursor: pointer;
        }
 
        .steps .step1 h1 {
            margin-bottom: 40px;
        }

        .button:hover,
        button:hover {
            background: var(--blue);
        }

        video {
            -webkit-transform: scaleX(-1);
            transform: scaleX(-1);
            margin-top: 5px;
        }

        .steps .step.step3 {
            text-align: center;
        } 

        form ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        form ul li+li {
            margin-top: 15px;
        }

        form ul li {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        form ul li input {
            width: calc(50% - 7px);
        }

        .steps .step.step3 form {
            max-width: 600px;
            margin: 0 auto;
            border: 2px solid var(--blue);
            padding: 30px 20px;
            border-radius: 8px;
            background-color: #fff;
        }

        form ul li textarea {
            width: 100%;
        }

        form ul li input#postal_code {
            width: 100%;
        }

        form ul li input,
        form ul li textarea {
            font-size: 16px;
            line-height: 1.2;
            padding: 10px;
            color: var(--blue);
            border: navajowhite;
            border-bottom: 2px solid var(--blue);
            outline: none;
        }

        form ul li input:focus,
        form ul li textarea:focus {
            border-color: var(--green);
        }

        form ul li.submit {
            align-items: center;
            justify-content: center;
            margin-top: 30px;
        }

        form ul li.submit input {
            width: auto;
            min-width: 200px;
        }

        .steps .step.step3 h3 {
            margin-bottom: 30px;
            font-size: 24px;
        }

        .main {
            position: relative;
        }

        .main .illustration {
            position: absolute;
            z-index: 1;
            opacity: 0.8;
            bottom: 0;
            right: 0;
            width: 350px;
            height: auto;
        }

        .main .illustration svg {
            width: 100%;
            height: 100%;
            display: block;
        }


        @media(max-width: 640px) {
            form ul li {
                flex-wrap: wrap;
            }

            form ul li input {
                width: 100%;
            }

            form ul li input+input {
                margin-top: 20px
            }
        }

        /* Flipping the canvas image as it was not mirror view */
        /* #canvas */
    </style>
</head>

<body>
    <div class="jumbotron main">
        <div class="illustration">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1"
                id="Layer_1" x="0px" y="0px" width="584.941px" height="401.5px" viewBox="137.559 97.5 584.941 401.5"
                enable-background="new 137.559 97.5 584.941 401.5" xml:space="preserve">
                <path fill="none" d="M0,0h900v600H0V0z" />
                <path fill="#FFFFFF" stroke="#E1E4E5" stroke-width="2"
                    d="M371,102h282c16.017,0,29,12.984,29,29v62c0,16.016-12.983,29-29,29H371  c-16.017,0-29-12.984-29-29v-62C342,114.984,354.983,102,371,102z" />
                <path fill="#1BAF56"
                    d="M384,113h38c16.568,0,30,13.432,30,30v38c0,16.568-13.432,30-30,30h-38c-16.568,0-30-13.432-30-30v-38  C354,126.432,367.432,113,384,113z" />
                <path fill="#FFFFFF"
                    d="M425.267,182.555v3.276c0,1.809-1.448,3.277-3.233,3.277h-38.8c-1.785,0-3.233-1.468-3.233-3.277v-3.329  c0-9.914,11.181-16.356,22.633-16.356c11.453,0,22.634,6.445,22.634,16.356 M410.751,137.363c4.484,4.483,4.484,11.752,0,16.236  c-4.483,4.484-11.752,4.484-16.236,0c-4.483-4.484-4.483-11.753,0-16.236C398.999,132.879,406.268,132.879,410.751,137.363z" />
                <path fill="#E1E4E5"
                    d="M468.5,129h171c3.037,0,5.5,2.462,5.5,5.5l0,0c0,3.038-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.462-5.5-5.5  l0,0C463,131.462,465.463,129,468.5,129z" />
                <path fill="#E1E4E5"
                    d="M468.5,156h171c3.037,0,5.5,2.462,5.5,5.5l0,0c0,3.038-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.462-5.5-5.5  l0,0C463,158.462,465.463,156,468.5,156z" />
                <path fill="#E1E4E5"
                    d="M468.5,183h171c3.037,0,5.5,2.462,5.5,5.5l0,0c0,3.038-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.462-5.5-5.5  l0,0C463,185.462,465.463,183,468.5,183z" />
                <path fill="#FFFFFF" stroke="#E1E4E5" stroke-width="1.914"
                    d="M371,377.957h282c16.04,0,29.043,13.003,29.043,29.043v62  c0,16.04-13.003,29.043-29.043,29.043H371c-16.04,0-29.043-13.003-29.043-29.043v-62C341.957,390.96,354.96,377.957,371,377.957z" />
                <path fill="#1BAF56"
                    d="M384,389h38c16.568,0,30,13.432,30,30v38c0,16.568-13.432,30-30,30h-38c-16.568,0-30-13.432-30-30v-38  C354,402.432,367.432,389,384,389z" />
                <path fill="#FFFFFF"
                    d="M425.267,458.555v3.276c0,1.809-1.448,3.277-3.233,3.277h-38.8c-1.785,0-3.233-1.469-3.233-3.277v-3.329  c0-9.914,11.181-16.355,22.633-16.355c11.453,0,22.634,6.444,22.634,16.355 M410.751,413.363c4.484,4.482,4.484,11.752,0,16.235  c-4.483,4.484-11.752,4.484-16.236,0c-4.483-4.483-4.483-11.753,0-16.235C398.999,408.879,406.268,408.879,410.751,413.363z" />
                <path fill="#E1E4E5"
                    d="M468.5,405h171c3.037,0,5.5,2.463,5.5,5.5l0,0c0,3.037-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.463-5.5-5.5  l0,0C463,407.463,465.463,405,468.5,405z" />
                <path fill="#E1E4E5"
                    d="M468.5,432h171c3.037,0,5.5,2.463,5.5,5.5l0,0c0,3.037-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.463-5.5-5.5  l0,0C463,434.463,465.463,432,468.5,432z" />
                <path fill="#E1E4E5"
                    d="M468.5,459h171c3.037,0,5.5,2.463,5.5,5.5l0,0c0,3.037-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.463-5.5-5.5  l0,0C463,461.463,465.463,459,468.5,459z" />
                <path fill="#FFFFFF" stroke="#E1E4E5" stroke-width="2"
                    d="M455,240h282c16.017,0,29,12.984,29,29v62c0,16.016-12.983,29-29,29H455  c-16.017,0-29-12.984-29-29v-62C426,252.984,438.983,240,455,240z" />
                <path fill="#1BAF56"
                    d="M468,251h38c16.568,0,30,13.432,30,30v38c0,16.568-13.432,30-30,30h-38c-16.568,0-30-13.432-30-30v-38  C438,264.432,451.432,251,468,251z" />
                <path fill="#FFFFFF"
                    d="M509.267,320.555v3.276c0,1.81-1.448,3.276-3.233,3.276h-38.8c-1.785,0-3.233-1.467-3.233-3.276v-3.329  c0-9.914,11.181-16.355,22.633-16.355c11.453,0,22.634,6.444,22.634,16.355 M494.751,275.363c4.484,4.483,4.484,11.752,0,16.236  c-4.483,4.484-11.752,4.484-16.236,0c-4.483-4.484-4.483-11.753,0-16.236C482.999,270.879,490.268,270.879,494.751,275.363z" />
                <path fill="#E1E4E5"
                    d="M552.5,267h171c3.037,0,5.5,2.462,5.5,5.5l0,0c0,3.038-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.462-5.5-5.5  l0,0C547,269.462,549.463,267,552.5,267z" />
                <path fill="#E1E4E5"
                    d="M552.5,294h171c3.037,0,5.5,2.462,5.5,5.5l0,0c0,3.037-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.463-5.5-5.5  l0,0C547,296.462,549.463,294,552.5,294z" />
                <path fill="#E1E4E5"
                    d="M552.5,321h171c3.037,0,5.5,2.463,5.5,5.5l0,0c0,3.037-2.463,5.5-5.5,5.5h-171c-3.037,0-5.5-2.463-5.5-5.5  l0,0C547,323.463,549.463,321,552.5,321z" />
                <path fill="#1BAF56"
                    d="M353.722,338.846c-20.924,0-37.889-17.205-37.889-38.423c0-21.219,16.965-38.423,37.889-38.423  c20.925,0,37.89,17.204,37.89,38.423C391.611,321.641,374.646,338.846,353.722,338.846z" />
                <path fill="none" stroke="#FFFFFF" stroke-width="6.288" stroke-linecap="round" stroke-linejoin="round"
                    d="M367.063,294.019  l-16.006,17.077l-9.608-10.244" />
                <path fill="#F8AE9D"
                    d="M300.478,210.435c-0.593,4.581-2.18,10.103-4.749,11.978c-2.913,2.129-3.813,4.389-3.813,4.389l-2.961-0.913  l-3.539-1.091c0,0-0.006-0.361,0.016-0.963c0.018-0.596,0.073-1.431,0.19-2.371c0,0,0.675-1.451-0.271-2.861  c-0.945-1.407-1.38-3.822-0.714-5.509c0.662-1.682,0.8-5.491,1.426-5.521c1.518-0.085,0.479,5.342,1.317,6.108  c0.753,0.698,1.398,0.25,1.513,0.154c0.008-0.006,0.016-0.012,0.024-0.019c3.675-2.746,6.394-13.593,8.893-12.789  C298.742,201.326,300.734,208.485,300.478,210.435z M151.053,323.154c0,0,3.138,5.43,1.733,8.562  c-1.401,3.134-6.266,7.312-7.521,8.951c-1.25,1.636-5.493,5.959-7.203,3.177c-1.708-2.775,1.309-10.156,3.401-12.938  c2.09-2.787,2.288-7.57,2.288-7.57L151.053,323.154z" />
                <path fill="#F8AE9D"
                    d="M153.061,330.811c0,0-0.239,5.984-0.523,7.582c-0.286,1.601-0.568,1.11-1.662,0.037  c-1.094-1.076-1.082-4.207-1.492-4.412C148.974,333.811,153.061,330.811,153.061,330.811z" />
                <path fill="#283B5C"
                    d="M207.952,209.782c0,0,36.604,39.455,47.999,45.638l28.71-33.889c0,0,5.389,0.378,8.763,4.923  c0,0-11.139,47.795-31.462,54.415c-20.323,6.619-61.756-39.918-61.756-39.918L207.952,209.782L207.952,209.782z M242.08,499h-37.588  c-1.806-2.129-1.141-9.989-0.87-12.559c0.057-0.519,0.095-0.816,0.095-0.816s12.835-9.912,14.598-2.322  c0.053,0.238,0.119,0.473,0.19,0.702c2.22,7.098,12.185,10.324,17.934,11.223C240.184,495.811,241.567,497.688,242.08,499  L242.08,499z" />
                <path fill="#283B5C"
                    d="M216.773,499h-37.588c-1.806-2.129-1.14-9.989-0.87-12.559c0.057-0.519,0.095-0.816,0.095-0.816  s12.836-9.912,14.599-2.322c0.052,0.238,0.118,0.473,0.19,0.702c2.219,7.098,12.184,10.324,17.934,11.223  C214.877,495.811,216.26,497.688,216.773,499L216.773,499z" />
                <path fill="#1BAF56"
                    d="M231.812,329.993c0,0-1.797,19.45-3.909,42.827c-2.871,31.757-6.324,70.767-6.666,78.155  c-0.592,12.833-2.958,33.358-2.958,33.358s-5.619,4.877-16.865,2.821c0,0-10.023-29.304-12.884-60.309l-0.132-1.53  c-2.665-31.561-6.802-98.021-6.802-98.021L231.812,329.993L231.812,329.993z" />
                <path fill="#1BAF56"
                    d="M221.618,331.324c0,0-3.389,19.256-7.414,42.402c-5.47,31.446-12.114,70.077-13.055,77.413  c-1.632,12.74-5.687,33.033-5.687,33.033s-6.111,4.524-17.395,1.813c0,0-7.855-29.763-8.281-60.796l-0.011-1.533  c-0.182-31.576,0.936-97.982,0.936-97.982L221.618,331.324L221.618,331.324z" />
                <path fill="#F8AE9D"
                    d="M215.796,216.887c-12.916,4.079-34.23-7.42-34.23-7.42s10.872-8.448,10.25-27.034l9.986,8.05l6.785,5.465  c0,0-0.027,3.224-0.77,8.873c-0.196,1.485-0.554,3.806,0.559,4.995C212.701,214.432,215.796,216.887,215.796,216.887z" />
                <path fill="#F8AE9D"
                    d="M212.536,195.643c0,0-21.337,3.547-23.341-9.776c-2.003-13.323-6.104-21.838,7.433-24.664  c13.537-2.827,16.959,1.856,18.707,6.14C217.084,171.628,218.032,194.378,212.536,195.643z" />
                <path fill="#283B5C"
                    d="M233.828,336.885c-0.389,0.322-0.841,0.52-1.36,0.52c-4.852-0.067-18.998,2.63-30.965,1.4  c-10.09-0.972-19.025-3.959-28.614-8.257c-1.274-0.571-4.203-2.138-4.141-3.56c0.045-1.562,0.197-3.819,0.394-6.668  c0.68-9.901,1.86-26.927,0.706-46.573c-0.205-3.616-0.315-7.237-0.331-10.859c-0.098-26.628,5.179-50.044,15.792-57.969  c0.908-0.648,6.471,2.071,11.583,4.589c4.722,2.33,8.425,2.576,12.889,1.672l5.478,3.954c5.434,5.044,11.386,11.905,13.976,22.316  c2.2,8.864,3.493,24.843,4.204,41.404c0.322,7.504,0.581,15.076,0.648,22.253v0.254c0.063,0.713,0.063,1.49,0.063,2.201  C234.409,322.006,234.15,336.626,233.828,336.885L233.828,336.885z" />
                <path fill="#283B5C"
                    d="M147.855,325.919c4.05,0.55,8.371-0.019,8.371-0.019s9.767-37.415,11.104-40.855  c1.338-3.442,32.823-45.104,32.823-45.104l-16.11-34.409c0,0-33.011,63.15-36.225,71.941c-5.311,14.526-5.603,46.425-5.603,46.425  S144.672,325.489,147.855,325.919z M186.795,181.095c1.161,2.401,4.531,2.757,4.22,0.108c-0.353-3.015-0.349-6.959,2.102-6.226  c2.451,0.734,2.576,2.697,3.582,1.552c1.007-1.145,1.025-5.975,8.323-6.315c7.299-0.335,10.264,2.205,13.654,0.711  c2.032-0.894,2.911-3.092,3.29-4.713c0.108-0.459-0.227-1.1-0.533-0.742c-0.29,0.339-1.019,0.317-0.811-0.077  c1.285-2.439,3.208-7.764-1.691-11.73c-6.556-5.309-13.238-1.834-17.03-1.606c-8.359,0.505-13.757,1.006-16.485,6.498  C183.155,163.111,183.542,174.366,186.795,181.095z" />
                <path fill="#E1E4E5"
                    d="M752.555,158.613h-2.584c-0.622-0.001-1.127-0.506-1.127-1.128v-2.583c0-0.625,0.508-1.128,1.127-1.128  h2.584c0.62,0,1.128,0.508,1.128,1.128v2.583c0.002,0.622-0.5,1.126-1.122,1.128C752.559,158.613,752.557,158.613,752.555,158.613z   M743.597,158.613h-2.583c-0.62,0-1.128-0.508-1.128-1.128v-2.583c0-0.625,0.508-1.128,1.128-1.128h2.583  c0.62,0,1.128,0.508,1.128,1.128v2.583C744.725,158.105,744.217,158.613,743.597,158.613z M734.634,158.613h-2.584  c-0.62,0-1.128-0.508-1.128-1.128v-2.583c0-0.625,0.508-1.128,1.128-1.128h2.584c0.619,0,1.127,0.508,1.127,1.128v2.583  c0.002,0.622-0.5,1.126-1.122,1.128C734.638,158.613,734.636,158.613,734.634,158.613z M725.675,158.613h-2.584  c-0.622-0.002-1.126-0.506-1.128-1.128v-2.583c0.001-0.623,0.506-1.127,1.128-1.128h2.584c0.625,0,1.133,0.508,1.133,1.128v2.583  C726.802,158.107,726.297,158.609,725.675,158.613z M716.716,158.613h-2.583c-0.624,0-1.13-0.504-1.133-1.128v-2.583  c0.001-0.624,0.508-1.129,1.132-1.128c0.001,0,0.001,0,0.001,0h2.583c0.62,0,1.128,0.508,1.128,1.128v2.583  C717.844,158.105,717.336,158.613,716.716,158.613z M743.269,148.845h-2.584c-0.619,0-1.128-0.509-1.128-1.128v-2.589  c0-0.62,0.509-1.128,1.128-1.128h2.584c0.624,0,1.128,0.508,1.128,1.128v2.584c0.003,0.622-0.498,1.129-1.119,1.133  C743.274,148.845,743.271,148.845,743.269,148.845z M734.31,148.845h-2.583c-0.619,0-1.128-0.509-1.128-1.128v-2.589  c0-0.62,0.509-1.128,1.128-1.128h2.583c0.62,0,1.128,0.508,1.128,1.128v2.584c0.004,0.623-0.498,1.13-1.12,1.133  C734.314,148.845,734.313,148.845,734.31,148.845z M725.352,148.845h-2.584c-0.623,0-1.129-0.504-1.133-1.128v-2.589  c0-0.62,0.508-1.128,1.133-1.128h2.584c0.619,0,1.129,0.508,1.129,1.128v2.584C726.48,148.336,725.971,148.845,725.352,148.845z   M734.634,169.107h-2.584c-0.62,0-1.128-0.508-1.128-1.128v-2.583c0-0.625,0.508-1.128,1.128-1.128h2.584  c0.619,0,1.127,0.508,1.127,1.128v2.583c0.002,0.622-0.5,1.126-1.122,1.128C734.638,169.107,734.636,169.107,734.634,169.107z   M725.675,169.107h-2.584c-0.622-0.002-1.126-0.506-1.128-1.128v-2.583c0.001-0.623,0.506-1.127,1.128-1.128h2.584  c0.625,0,1.133,0.508,1.133,1.128v2.583C726.802,168.601,726.297,169.103,725.675,169.107z M752.555,439.613h-2.584  c-0.622-0.001-1.127-0.506-1.127-1.128v-2.583c0-0.625,0.508-1.128,1.127-1.128h2.584c0.62,0,1.128,0.508,1.128,1.128v2.583  c0.002,0.621-0.5,1.126-1.122,1.128C752.559,439.613,752.557,439.613,752.555,439.613z M743.597,439.613h-2.583  c-0.62,0-1.128-0.508-1.128-1.128v-2.583c0-0.625,0.508-1.128,1.128-1.128h2.583c0.62,0,1.128,0.508,1.128,1.128v2.583  C744.725,439.105,744.217,439.613,743.597,439.613z M734.634,439.613h-2.584c-0.62,0-1.128-0.508-1.128-1.128v-2.583  c0-0.625,0.508-1.128,1.128-1.128h2.584c0.619,0,1.127,0.508,1.127,1.128v2.583c0.002,0.621-0.5,1.126-1.122,1.128  C734.638,439.613,734.636,439.613,734.634,439.613z M725.675,439.613h-2.584c-0.622-0.003-1.126-0.506-1.128-1.128v-2.583  c0.001-0.623,0.506-1.127,1.128-1.128h2.584c0.625,0,1.133,0.508,1.133,1.128v2.583  C726.802,439.107,726.297,439.609,725.675,439.613z M716.716,439.613h-2.583c-0.624,0-1.13-0.505-1.133-1.128v-2.583  c0.001-0.624,0.508-1.13,1.132-1.128c0.001,0,0.001,0,0.001,0h2.583c0.62,0,1.128,0.508,1.128,1.128v2.583  C717.844,439.105,717.336,439.613,716.716,439.613z M743.269,429.845h-2.584c-0.619,0-1.128-0.509-1.128-1.128v-2.589  c0-0.62,0.509-1.128,1.128-1.128h2.584c0.624,0,1.128,0.508,1.128,1.128v2.584c0.003,0.622-0.498,1.129-1.119,1.133  C743.274,429.845,743.271,429.845,743.269,429.845L743.269,429.845z M734.31,429.845h-2.583c-0.619,0-1.128-0.509-1.128-1.128  v-2.589c0-0.62,0.509-1.128,1.128-1.128h2.583c0.62,0,1.128,0.508,1.128,1.128v2.584c0.004,0.622-0.498,1.13-1.12,1.133  C734.314,429.845,734.313,429.845,734.31,429.845L734.31,429.845z M725.352,429.845h-2.584c-0.623,0-1.129-0.504-1.133-1.128v-2.589  c0-0.62,0.508-1.128,1.133-1.128h2.584c0.619,0,1.129,0.508,1.129,1.128v2.584C726.48,429.336,725.971,429.845,725.352,429.845  L725.352,429.845z M734.634,450.107h-2.584c-0.62,0-1.128-0.509-1.128-1.129v-2.582c0-0.625,0.508-1.129,1.128-1.129h2.584  c0.619,0,1.127,0.509,1.127,1.129v2.582c0.002,0.622-0.5,1.127-1.122,1.129C734.638,450.107,734.636,450.107,734.634,450.107z   M725.675,450.107h-2.584c-0.622-0.003-1.126-0.506-1.128-1.129v-2.582c0.001-0.623,0.506-1.127,1.128-1.129h2.584  c0.625,0,1.133,0.509,1.133,1.129v2.582C726.802,449.602,726.297,450.104,725.675,450.107z" />
                <path fill="#E1E4E5"
                    d="M324.548,222h-0.095c-0.56,7.643-6.453,7.761-6.453,7.761s6.5,0.122,6.5,8.953c0-8.831,6.5-8.953,6.5-8.953  S325.107,229.643,324.548,222z M281.578,300h-0.153C280.521,312.346,271,312.536,271,312.536s10.5,0.198,10.5,14.464  c0-14.266,10.5-14.464,10.5-14.464S282.481,312.346,281.578,300z M407.548,340.143h-0.095c-0.56,7.644-6.453,7.762-6.453,7.762  s6.5,0.121,6.5,8.953c0-8.832,6.5-8.953,6.5-8.953S408.107,347.786,407.548,340.143z M407.548,240h-0.095  c-0.56,7.643-6.453,7.761-6.453,7.761s6.5,0.122,6.5,8.953c0-8.831,6.5-8.953,6.5-8.953S408.107,247.643,407.548,240z M318.443,354  h-0.107c-0.636,8.688-7.336,8.822-7.336,8.822s7.388,0.139,7.388,10.178c0-10.039,7.39-10.178,7.39-10.178  S319.079,362.688,318.443,354z" />
            </svg>
        </div>
        <div class="steps">
            <div class="step step1">
                <div class="wrapper">
                    <h1>Scan you Businness Card</h1>
                    <button>Scan your card</button>
                </div>
            </div>

            <div class="step step2">
                <div class="wrapper">
                    <p><span id="errorMsg"></span></p>
                    <div class="row">
                        <div class="scannerScreen">
                            <span class="scannerFrame">
                                <svg class="scannerFrame" xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px"
                                    y="0px" width="472.5px" height="472.5px" viewBox="113.75 43.75 472.5 472.5"
                                    enable-background="new 113.75 43.75 472.5 472.5" xml:space="preserve">
                                    <g>
                                        <path
                                            d="M122.5,213.85c4.828,0,8.75-3.922,8.75-8.75V70c0-4.828,3.922-8.75,8.75-8.75h135.1c4.828,0,8.75-3.922,8.75-8.75   s-3.922-8.75-8.75-8.75H140c-14.473,0-26.25,11.777-26.25,26.25v135.1C113.75,209.928,117.672,213.85,122.5,213.85z" />
                                        <path
                                            d="M586.25,70c0-14.473-11.777-26.25-26.25-26.25H424.9c-4.828,0-8.75,3.922-8.75,8.75s3.922,8.75,8.75,8.75H560   c4.828,0,8.75,3.922,8.75,8.75v135.1c0,4.828,3.922,8.75,8.75,8.75s8.75-3.922,8.75-8.75V70z" />
                                        <path
                                            d="M424.9,516.25H560c14.473,0,26.25-11.777,26.25-26.25V354.9c0-4.829-3.922-8.75-8.75-8.75s-8.75,3.922-8.75,8.75V490   c0,4.828-3.922,8.75-8.75,8.75H424.9c-4.828,0-8.75,3.922-8.75,8.75S420.072,516.25,424.9,516.25z" />
                                        <path
                                            d="M140,516.25h135.1c4.828,0,8.75-3.922,8.75-8.75s-3.922-8.75-8.75-8.75H140c-4.828,0-8.75-3.922-8.75-8.75V354.9   c0-4.829-3.922-8.75-8.75-8.75s-8.75,3.922-8.75,8.75V490C113.75,504.473,125.527,516.25,140,516.25z" />
                                    </g>
                                </svg>
                            </span>
                            <!-- Here we streaming video from webcam -->
                            <video id="video" playsinline autoplay></video>
                        </div>
                        <div class="scannerBtn">
                            <button class="btn btn-md btn-primary" id="btnCapture">Start Scan >></button>
                        </div>
                        <div class="col-lg-6" style="display: none">
                            <h4>
                                Captured image from Webcam <input type="button" class="btn btn-primary" id="btnSave"
                                    name="btnSave" value="Save the canvas(image) to server" />
                            </h4>
                            <!-- Webcam video snapshot -->
                            <canvas style="border:solid 1px #ddd;background-color:white;" id="canvas" width="475"
                                height="475"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step step3">
                <!--form-->
                <div class="wrapper">
                    <h3>This is the data we've found from the QR code.</h3>
                    <form class="form-style-9">
                        <ul>
                            <li>
                                <input type="text" name="firstname" id="firstname"
                                    class="field-style field-split align-left" placeholder="Firstname" />
                                <input type="text" name="lastname" id="lastname"
                                    class="field-style field-split align-right" placeholder="Lastname" />

                            </li>
                            <li>
                                <input type="email" id="email" name="email" class="field-style field-split align-right"
                                    placeholder="Email" />
                                <input type="text" id="phone" name="phone" class="field-style field-split align-left"
                                    placeholder="Phone" />
                            </li>
                            <li>
                                <input type="text" id="job_title" name="job_title"
                                    class="field-style field-split align-left" placeholder="Job Title" />
                                <input type="text" id="company_name" name="company_name"
                                    class="field-style field-split align-right" placeholder="Company Name" />
                            </li>
                            <li>
                                <textarea id="street_address" name="street_address" class="field-style"
                                    placeholder="Street Address"></textarea>
                            </li>
                            <li>
                                <input type="text" id="city" name="city" class="field-style field-split align-left"
                                    placeholder="City" />
                                <input type="text" id="state" name="state" class="field-style field-split align-right"
                                    placeholder="state" />
                            </li>
                            <li>
                                <input type="text" id="postal_code" name="postal_code"
                                    class="field-style field-split align-left" placeholder="Postal Code" />
                            </li>
                            <li class="submit">
                                <input type="submit" class="button" id="submitForm" value="Submit" />
                            </li>
                        </ul>
                    </form>
                </div>
            </div>

            <div class="step step4">
                <div class="wrapper">
                    <h2>Yay! Contact is created</h2>
                    <p>Thank you for your time.</p>
                </div>
            </div>

        </div>




    </div>
</body>
<script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/embed/v2.js"></script>
<!--<script>-->
<!--  hbspt.forms.create({-->
<!--    region: "na1",-->
<!--    portalId: "21645343",-->
<!--    formId: "cc7c5c18-09ee-4f8f-9d83-d666807c9cff"-->
<!--  });-->
<!--</script>-->

<script type="text/javascript">
    var video = document.querySelector("#video");

    // Basic settings for the video to get from Webcam  
    const constraints = {
        audio: false,
        video: {
            width: 475, height: 475
        }
    };

    // This condition will ask permission to user for Webcam access  
    if (navigator.mediaDevices.getUserMedia) {
        navigator.mediaDevices.getUserMedia(constraints)
            .then(function (stream) {
                video.srcObject = stream;
            })
            .catch(function (err0r) {
                console.log("Something went wrong!");
            });
    }

    function stop(e) {
        var stream = video.srcObject;
        var tracks = stream.getTracks();

        for (var i = 0; i < tracks.length; i++) {
            var track = tracks[i];
            track.stop();
        }
        video.srcObject = null;
    }  
</script>

<script type="text/javascript">
    // Below code to capture image from Video tag (Webcam streaming)  
    $("#btnCapture").click(function () {
        var canvas = document.getElementById('canvas');
        var destCtx = canvas.getContext('2d');
        destCtx.drawImage(video, 0, 0);
        destCtx.setTransform(1, 0, 0, 1, 0, 0);

        var formData = new FormData(),
            uploadedImageName = 'document.png';

        canvas.toBlob(function (blob) {
            formData.append('user_picture', blob, uploadedImageName);
            $.ajax({
                url: '/upload-document',
                data: formData,
                type: "POST",
                dataType: "JSON",
                processData: false,
                contentType: false,
                success: function (res, err) {
                    if (res.status) {
                        console.log(res);
                        $(`input[name="email"]`).val(res.values.email)
                        $(`input[name="phone"]`).val(res.values.phone)
                        $(`input[name="firstname"]`).val(res.values.firstName)
                        $(`input[name="lastname"]`).val(res.values.lastName)
                        $(`input[name="job_title"]`).val(res.values.job_title)
                        $(`input[name="company_name"]`).val(res.values.company_name)
                        $('#street_address').val(res.values.address)
                        $(`input[name="city"]`).val(res.values.city)
                        $(`input[name="state"]`).val(res.values.state)
                        $(`input[name="postal_code"]`).val(res.values.postal_code)
                        // TODO add regex on text here.
                    } else {
                        alert('Unable to upload a photo')
                    }
                }
            });
        });

    });


    function dataURItoBlob(dataURI) {
        // convert base64/URLEncoded data component to raw binary data held in a string
        var byteString;
        if (dataURI.split(',')[0].indexOf('base64') >= 0)
            byteString = atob(dataURI.split(',')[1]);
        else
            byteString = unescape(dataURI.split(',')[1]);
        // separate out the mime component
        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
        // write the bytes of the string to a typed array
        var ia = new Uint8Array(byteString.length);
        for (var i = 0; i < byteString.length; i++) {
            ia[i] = byteString.charCodeAt(i);
        }
        return new Blob([ia], { type: mimeString });
    }

    $(document).on("click", "#submitForm", function (e) {
        e.preventDefault();
        const apiData = {
            firstName: $("#firstname").val(),
            lastName: $("#lastname").val(),
            email: $("#email").val(),
            phone: $("#phone").val(),
            job_title: $("#job_title").val(),
            company_name: $("#company_name").val(),
            street_address: $("#street_address").val(),
            city: $("#city").val(),
            state: $("#state").val(),
            postal_code: $("#postal_code").val(),
        }
        $.ajax({
            type: "POST",
            url: '/submit-form',
            data: apiData,
            dataType: "json",
            success: function (res, err) {
                if (res.status) {
                    console.log(res.data)
                } else {
                    alert("Unable to submit form")
                }
            }
        })
    })
</script>

</html>